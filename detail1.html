<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="detail.css">
</head>

<body>
    <h1>MENTOR INFORMATION</h1>
    <div class="div">
        <div class="img">
            <img src="images/teacher1img.jpg" alt="">
        </div>
        <h3>Dr. Birmohan Singh</h3>
        <div class="info">
            <ul>
                <li>
                    Department : Computer Science

                </li>
                <li>Educational Qualification : Ph.D., M.E.</li>
                <li>Phone (O) : +91-1672-253208</li>
                <li>E-mail : birmohansingh@sliet.ac.in , birmohans@gmail.com</li>
            </ul>
        </div>
        <h3 class="slot">Slot Details</h3>
        <div class="slots">
            <button class="btn" date-time="10 am">
                10am-10:40am</button>
            <button class="btn" date-time="10:40 am">
                10:40am-11:20am</button>
             <button class="btn" date-time="11:20 am">
                11:20am-12pm</button>
            <button class="btn" date-time= "4 pm">
                4pm-4:40pm</button>
            <button class="btn" date-time="4:40 pm">
                4:40pm-5:20pm</button>
            <button class="btn" date-time="5:20 pm">
                5:20pm-6pm</button>
        </div>
        

    </div>

    <button style="height: 60px;background-color: rgb(235, 115, 28);border-radius:20px;width: 400px; margin-left: 550px;"><a style="text-decoration: none;color: white;font-size: 30px;
    " href="link1.html">Join with the Mentor</a></button>
    
    <button class="remainder">
        <a href="set3.html" target="_blank">SET REMINDER</a>

    </button>
    <script>
        
        document.addEventListener('DOMContentLoaded', () => {
            const slots = document.querySelectorAll('.btn');
            slots.forEach(slot => {
                if (localStorage.getItem(slot.getAttribute('date-time')) === "booked") {
                    slot.classList.add("booked");
                    slot.disabled = true;
                }
            });
            slots.forEach(slot => {
                slot.addEventListener('click', () => {
                    if (slot.classList.contains('booked')) {
                        alert("This slot is already booked");
                        return;
                    }
                    let confirmBooking = confirm(`Confirm booking ${slot.getAttribute('date-time')} slot`);
                    if (confirmBooking) {
                        slot.classList.add('booked');
                        slot.disabled = true;
                        updateFacultySchedule(slot.getAttribute('date-time'));
                        //Redirect to remainder app with the selected time
                        window.location.href = `set3.html?time=${encodeURIComponent(slot.getAttribute('date-time'))}`;
                    }
                });
            });
        });

        function updateFacultySchedule(time) {
            localStorage.setItem(time, "booked");
        }
    </script>

</body>

</html>